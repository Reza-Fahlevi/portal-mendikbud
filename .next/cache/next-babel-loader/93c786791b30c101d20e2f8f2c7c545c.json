{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _ from 'lodash';\nimport { v4 } from 'uuid';\nimport firebase from './Firebase';\n\nvar getMeta = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var snapshot;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return firebase.database().ref(\"meta/\").once('value');\n\n          case 3:\n            snapshot = _context.sent;\n            return _context.abrupt(\"return\", snapshot.val());\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function getMeta() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getHeader = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var snapshot;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return firebase.database().ref(\"header/\").once('value');\n\n          case 3:\n            snapshot = _context2.sent;\n            return _context2.abrupt(\"return\", snapshot.val());\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function getHeader() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getSkills = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var snapshot;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return firebase.database().ref(\"skills/\").once('value');\n\n          case 3:\n            snapshot = _context3.sent;\n            return _context3.abrupt(\"return\", snapshot.val());\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            throw _context3.t0;\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n\n  return function getSkills() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar getProjects = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var snapshot;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return firebase.database().ref(\"projects/\").once('value');\n\n          case 3:\n            snapshot = _context4.sent;\n            return _context4.abrupt(\"return\", snapshot.val());\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            throw _context4.t0;\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n\n  return function getProjects() {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar storeImage = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(file) {\n    var fileName, snapshot, getURL;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            fileName = v4();\n            _context5.prev = 1;\n            _context5.next = 4;\n            return firebase.storage().ref(\"/projects/\".concat(fileName)).put(file);\n\n          case 4:\n            snapshot = _context5.sent;\n            _context5.next = 7;\n            return firebase.storage().ref('projects').child(fileName).getDownloadURL();\n\n          case 7:\n            getURL = _context5.sent;\n            _context5.next = 13;\n            break;\n\n          case 10:\n            _context5.prev = 10;\n            _context5.t0 = _context5[\"catch\"](1);\n            throw _context5.t0;\n\n          case 13:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[1, 10]]);\n  }));\n\n  return function storeImage(_x) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexport { getMeta, getHeader, getSkills, getProjects, storeImage };","map":{"version":3,"sources":["D:/Project/portal-mendikbud/src/utils/FirebaseRequest.js"],"names":["_","v4","firebase","getMeta","database","ref","once","snapshot","val","getHeader","getSkills","getProjects","storeImage","file","fileName","storage","put","child","getDownloadURL","getURL"],"mappings":";;AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SAASC,EAAT,QAAmB,MAAnB;AAEA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,IAAMC,OAAO;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAESD,QAAQ,CAACE,QAAT,GAAoBC,GAApB,UAAiCC,IAAjC,CAAsC,OAAtC,CAFT;;AAAA;AAERC,YAAAA,QAFQ;AAAA,6CAGLA,QAAQ,CAACC,GAAT,EAHK;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPL,OAAO;AAAA;AAAA;AAAA,GAAb;;AASA,IAAMM,SAAS;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEOP,QAAQ,CAACE,QAAT,GAAoBC,GAApB,YAAmCC,IAAnC,CAAwC,OAAxC,CAFP;;AAAA;AAEVC,YAAAA,QAFU;AAAA,8CAGPA,QAAQ,CAACC,GAAT,EAHO;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATC,SAAS;AAAA;AAAA;AAAA,GAAf;;AASA,IAAMC,SAAS;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEOR,QAAQ,CAACE,QAAT,GAAoBC,GAApB,YAAmCC,IAAnC,CAAwC,OAAxC,CAFP;;AAAA;AAEVC,YAAAA,QAFU;AAAA,8CAGPA,QAAQ,CAACC,GAAT,EAHO;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATE,SAAS;AAAA;AAAA;AAAA,GAAf;;AASA,IAAMC,WAAW;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEKT,QAAQ,CAACE,QAAT,GAAoBC,GAApB,cAAqCC,IAArC,CAA0C,OAA1C,CAFL;;AAAA;AAEZC,YAAAA,QAFY;AAAA,8CAGTA,QAAQ,CAACC,GAAT,EAHS;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXG,WAAW;AAAA;AAAA;AAAA,GAAjB;;AASA,IAAMC,UAAU;AAAA,uEAAG,kBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,YAAAA,QADa,GACFb,EAAE,EADA;AAAA;AAAA;AAAA,mBAIMC,QAAQ,CAACa,OAAT,GAAmBV,GAAnB,qBAAoCS,QAApC,GAAgDE,GAAhD,CAAoDH,IAApD,CAJN;;AAAA;AAIXN,YAAAA,QAJW;AAAA;AAAA,mBAKIL,QAAQ,CAACa,OAAT,GAAmBV,GAAnB,CAAuB,UAAvB,EAAmCY,KAAnC,CAAyCH,QAAzC,EAAmDI,cAAnD,EALJ;;AAAA;AAKXC,YAAAA,MALW;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVP,UAAU;AAAA;AAAA;AAAA,GAAhB;;AAWA,SAAST,OAAT,EAAkBM,SAAlB,EAA6BC,SAA7B,EAAwCC,WAAxC,EAAqDC,UAArD","sourcesContent":["import _ from 'lodash'\nimport { v4 } from 'uuid'\n\nimport firebase from './Firebase'\n\nconst getMeta = async () => {\n  try {\n    let snapshot = await firebase.database().ref(`meta/`).once('value')\n    return snapshot.val()\n  } catch (e) {\n    throw e\n  }\n}\n\nconst getHeader = async () => {\n  try {\n    let snapshot = await firebase.database().ref(`header/`).once('value')\n    return snapshot.val()\n  } catch (e) {\n    throw e\n  }\n}\n\nconst getSkills = async () => {\n  try {\n    let snapshot = await firebase.database().ref(`skills/`).once('value')\n    return snapshot.val()\n  } catch (e) {\n    throw e\n  }\n}\n\nconst getProjects = async () => {\n  try {\n    let snapshot = await firebase.database().ref(`projects/`).once('value')\n    return snapshot.val()\n  } catch (e) {\n    throw e\n  }\n}\n\nconst storeImage = async (file) => {\n  let fileName = v4()\n\n  try {\n    let snapshot = await firebase.storage().ref(`/projects/${fileName}`).put(file)\n    let getURL = await firebase.storage().ref('projects').child(fileName).getDownloadURL()\n  } catch (e) {\n    throw e\n  }\n}\n\nexport { getMeta, getHeader, getSkills, getProjects, storeImage }"]},"metadata":{},"sourceType":"module"}